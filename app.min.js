const left=document.querySelector("#left"),right=document.querySelector("#right"),images=[...document.querySelectorAll(".img-corosel")],index_image=document.querySelector("#image-index");let currentImage=document.querySelector(".currentImg");const nextImage=()=>{null!=currentImage.nextElementSibling?(currentImage.classList.remove("currentImg"),currentImage.nextElementSibling.classList.add("currentImg"),currentImage=document.querySelector(".currentImg")):(images[0].classList.add("currentImg"),currentImage=document.querySelectorAll(".currentImg")[1],currentImage.classList.remove("currentImg"),currentImage=document.querySelector(".currentImg")),changeCircleStateNext()};let intervalTimer=setInterval(nextImage,3e3);right.addEventListener("click",e=>{e.preventDefault(),null!=currentImage.nextElementSibling?(currentImage.classList.remove("currentImg"),currentImage.nextElementSibling.classList.add("currentImg"),currentImage=document.querySelector(".currentImg")):(images[0].classList.add("currentImg"),currentImage=document.querySelectorAll(".currentImg")[1],currentImage.classList.remove("currentImg"),currentImage=document.querySelector(".currentImg")),changeCircleStateNext()}),right.addEventListener("mousedown",()=>{clearInterval(intervalTimer)}),right.addEventListener("mouseup",()=>{intervalTimer=setInterval(nextImage,3e3)}),left.addEventListener("click",e=>{e.preventDefault(),null!=currentImage.previousElementSibling?(currentImage.classList.remove("currentImg"),currentImage.previousElementSibling.classList.add("currentImg"),currentImage=document.querySelector(".currentImg")):(images[images.length-1].classList.add("currentImg"),currentImage=document.querySelectorAll(".currentImg")[0],currentImage.classList.remove("currentImg"),currentImage=document.querySelector(".currentImg")),changeCircleStatePrev()}),left.addEventListener("mousedown",()=>{clearInterval(intervalTimer)}),left.addEventListener("mouseup",()=>{intervalTimer=setInterval(nextImage,3e3)});for(let i=0;i<images.length;i++){const circle=document.createElement("div");circle.classList.add("index-circle"),index_image.appendChild(circle)}const circles=[...document.querySelectorAll(".index-circle")];circles[0].classList.add("active-circle");const changeCircleStateNext=()=>{let index=images.indexOf(currentImage);circles[index].classList.add("active-circle"),0===index?circles[circles.length-1].classList.remove("active-circle"):circles[index-1].classList.remove("active-circle")},changeCircleStatePrev=()=>{let currentImage=document.querySelector(".currentImg"),index=images.indexOf(currentImage);circles[index].classList.add("active-circle"),index===circles.length-1?circles[0].classList.remove("active-circle"):circles[index+1].classList.remove("active-circle")};var hidden,visibilityChange;function handleVisibilityChange(){document[hidden]?clearInterval(intervalTimer):intervalTimer=setInterval(nextImage,3e3)}void 0!==document.hidden?(hidden="hidden",visibilityChange="visibilitychange"):void 0!==document.msHidden?(hidden="msHidden",visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(hidden="webkitHidden",visibilityChange="webkitvisibilitychange"),void 0===document.addEventListener||void 0===hidden?console.log("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API."):document.addEventListener(visibilityChange,handleVisibilityChange,!1);